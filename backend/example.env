# =============================================================================
# Meeting Assistant - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# Required variables must be set, optional variables have defaults

# =============================================================================
# REQUIRED: API Keys
# =============================================================================

# Hugging Face Token (REQUIRED for speaker diarization with Pyannote)
# Get from: https://huggingface.co/settings/tokens
# Accept terms at: https://huggingface.co/pyannote/speaker-diarization
HUGGINGFACE_TOKEN=

# OpenAI API Key (REQUIRED if PREFERRED_PROVIDER=openai)
# Get from: https://platform.openai.com/api-keys
# Can be left empty if using Ollama exclusively
OPENAI_API_KEY=

# =============================================================================
# REQUIRED: Database & Message Queue
# =============================================================================

# PostgreSQL Database URL (REQUIRED)
# Format: postgresql://username:password@host:port/database
# Example: postgresql://meetinguser:meetingpass@db:5432/meetingdb
DATABASE_URL=postgresql://user:password@db/mydatabase

# Celery Broker URL (REQUIRED for async task processing)
# Format: redis://host:port/db
# Example: redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0

# Celery Result Backend (REQUIRED for storing task results)
# Format: redis://host:port/db
# Example: redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# =============================================================================
# Application Settings
# =============================================================================

# Maximum file size for uploads in MB (default: 3000MB = 3GB)
# Range: 1-10000
MAX_FILE_SIZE_MB=3000

# Upload directory path (default: uploads)
UPLOAD_DIR=uploads

# Cache directory path (default: /app/cache)
CACHE_DIR=/app/cache

# Enable/disable caching system (default: true)
CACHE_ENABLED=true

# Logging level (default: INFO)
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# =============================================================================
# LLM Provider Configuration
# =============================================================================

# Provider Preference (default: openai)
# Options: "openai" or "ollama"
# - "openai": Uses OpenAI API (requires OPENAI_API_KEY)
# - "ollama": Uses local Ollama models (requires Ollama running)
PREFERRED_PROVIDER=openai

# =============================================================================
# Ollama Configuration (if using local models)
# =============================================================================

# Ollama Base URL (default: http://host.docker.internal:11434)
# Use host.docker.internal to access Ollama running on the Docker host
# If Ollama is in a Docker container on the same network, use the service name
OLLAMA_BASE_URL=http://host.docker.internal:11434

# Default chat model for Ollama (default: llama3)
DEFAULT_LOCAL_CHAT_MODEL=llama3

# Default analysis model for Ollama (default: llama3)
DEFAULT_LOCAL_ANALYSIS_MODEL=llama3

# =============================================================================
# GPU Configuration
# =============================================================================

# Make all GPUs visible to the container (default: all)
# Options: all, none, or specific GPU indices (e.g., "0,1")
NVIDIA_VISIBLE_DEVICES=all

# =============================================================================
# Google Calendar Integration (OPTIONAL)
# =============================================================================

# Google OAuth 2.0 Credentials
# Setup instructions:
# 1. Go to https://console.cloud.google.com/
# 2. Create a project or select existing
# 3. Enable Google Calendar API
# 4. Create OAuth 2.0 credentials (Web application type)
# 5. Add authorized redirect URI: http://localhost:3000/oauth-callback.html
# 6. Add yourself as test user (otherwise you get error 403)
GOOGLE_CLIENT_ID=your-client-id-here.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret-here
GOOGLE_REDIRECT_URI=http://localhost:3000/oauth-callback.html

# =============================================================================
# Google Drive Integration (OPTIONAL)
# =============================================================================

# Uses the same OAuth credentials as Google Calendar
# Additional requirement: Enable Google Drive API in your Google Cloud project

# Enable automatic synchronization from Google Drive (default: false)
GOOGLE_DRIVE_SYNC_ENABLED=false

# Google Drive folder ID to monitor (found in the folder URL)
# Required if GOOGLE_DRIVE_SYNC_ENABLED=true
GOOGLE_DRIVE_SYNC_FOLDER_ID=

# Google Drive folder ID for processed files (optional - will be created if not specified)
GOOGLE_DRIVE_PROCESSED_FOLDER_ID=

# Sync mode (default: manual)
# Options: "manual" (only via manual trigger) or "scheduled" (daily at specified time)
GOOGLE_DRIVE_SYNC_MODE=manual

# Time to run scheduled sync in HH:MM format, 24-hour (default: 04:00 for 4 AM)
GOOGLE_DRIVE_SYNC_TIME=04:00

# Automatically process downloaded files (default: true)
GOOGLE_DRIVE_AUTO_PROCESS=true
